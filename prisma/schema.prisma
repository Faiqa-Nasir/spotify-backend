generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id                String   @id @default(uuid())
  username          String   @unique
  email             String   @unique
  password          String   // Encrypted password
  followedArtists   String[] // List of artist IDs
  playlistIds       String[] // List of playlist IDs
  likedSongs        String[] // List of song IDs
  recentSongIds     String[]
}

model Artist {
  id                String   @id @default(uuid())
  description       String
  followersNumber   Int
  artistPick        String   // name
  picture           String
  songs             Song[]   @relation("ArtistSongs")
  albums            Album[]  @relation("ArtistAlbums")
}

model Playlist {
  id                String   @id @default(uuid())
  name              String
  picture           String
  songIds           String[] // List of song IDs
}

model Song {
  id                String   @id @default(uuid())
  name              String
  artistId          String   // Artist ID
  picture           String
  genres            String[] // List of genres
  dateOfRelease     DateTime
  albumId           String   // Album ID
  duration          Int      // Duration in seconds
  playedNumber      Int      // Number of times played
  filePath          String   // Path to the audio file
  spotifyId         String   // Spotify ID for the song
  artist            Artist   @relation("ArtistSongs", fields: [artistId], references: [id])
}

model Album {
  id                String   @id @default(uuid())
  name              String
  artistId          String   // Artist ID
  releaseDate       DateTime
  picture           String
  artist            Artist   @relation("ArtistAlbums", fields: [artistId], references: [id])
}
